# 搭建实验三运行环境

- [搭建实验三运行环境](#搭建实验三运行环境)
  - [实验目的](#实验目的)
  - [下载`OpenCV-Python`库](#下载opencv-python库)
    - [第一步：选择合适的镜像源和文件](#第一步选择合适的镜像源和文件)
    - [第二步：在之前创建的 `conda` 环境中直接下载对应库](#第二步在之前创建的-conda-环境中直接下载对应库)
    - [第三步：验证是否安装成功](#第三步验证是否安装成功)
  - [解决使用分布式系统时的小问题](#解决使用分布式系统时的小问题)
    - [问题一：请确保你的 Spark 与 Hadoop 之间版本的兼容](#问题一请确保你的-spark-与-hadoop-之间版本的兼容)

## 实验目的

在前面两次实验的基础上加以补充，来完成本次实验，主要有：

1. 下载与使用 `OpenCV-Python` 库
2. 解决使用分布式时所遇问题

> 如果你使用的是 hadoop 或 spark 较新（3 以上的）的版本，请格外注意**解决使用分布式时所遇问题**这一部分，一些隐藏的问题很大可能导致实验不成功！

## 下载`OpenCV-Python`库

### 第一步：选择合适的镜像源和文件

> 这里提供[清华镜像源](https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple/opencv-python/)，可以在其中选择合适镜像文件

因为我们的系统是**Ubuntu 22.04 LTS**且**Python版本为3.10**，对应选择***opencv_python-4.5.4.60-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl***。cp310对应Python 3.10，注意这个即可，同时下面下载安装时会使用 `4.5.4.60` 这个版本号，如果你选择了其它，请注意更改对应下载命令。

### 第二步：在之前创建的 `conda` 环境中直接下载对应库

```bash
conda activate big_data_lab_env
pip install opencv-python==4.5.4.60 --index-url https://pypi.tuna.tsinghua.edu.cn/simple
```

### 第三步：验证是否安装成功

![test OpenCV-Python install](images/opencv-test.png)

如果如上显示，则证明成功！

## 解决使用分布式系统时的小问题

> 注意：该部分仍然是建立在原教程之上，详见[实验三：中文手写数字分类](https://github.com/Wanghui-Huang/CQU_bigdata/blob/master/Experiment/Ex3/Ex3_CHN/ex3.md)

### 问题一：请确保你的 Spark 与 Hadoop 之间版本的兼容

